{"mappings":"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","sources":["src/js/modal.js","src/index.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const refs = {\n    modal: document.getElementById('event-modal'),\n    list: document.getElementById('events-list'),\n    modalContent: document.querySelector('.modal__window'),\n  };\n\n // Handle opening the modal\nfunction onOpenModal(evt) {\n  evt.preventDefault();\n  console.log('Event clicked:', evt.target);\n\n  const eventItem = evt.target.closest('.event_thumb');\n  if (!eventItem) {\n    console.log('No event item found');\n    return;\n  }\n\n  const eventId = eventItem.id;\n  const eventData = window.eventDataArray.find(item => item.id === eventId);\n\n  if (!eventData) {\n    console.log('Event data not found for id:', eventId);\n    return;\n  }\n\n  const {\n    name,\n    images,\n    info,\n    dates,\n    products,\n    priceRanges,\n    url\n  } = eventData;\n\n  \n\n  refs.modalContent.innerHTML = `\n<div class=\"modal__close-btn-container\">\n    <div class=\"modal__close-btn\">\n<svg  viewBox=\"0 0 25 25\"  xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M1.28557 25C0.95625 25 0.626931 24.8747 0.376724 24.6227C-0.125574 24.1204 -0.125574 23.306 0.376724 22.8038L22.8043 0.376714C23.3066 -0.125571 24.121 -0.125571 24.6233 0.376714C25.1256 0.878999 25.1256 1.69333 24.6233 2.19593L2.19598 24.6227C1.94389 24.8732 1.61457 25 1.28557 25Z\" />\n<path d=\"M23.7147 25C23.3854 25 23.0564 24.8747 22.8059 24.6227L0.376724 2.19593C-0.125574 1.69333 -0.125574 0.878999 0.376724 0.376714C0.879022 -0.125571 1.69337 -0.125571 2.19598 0.376714L24.6233 22.8038C25.1256 23.306 25.1256 24.1204 24.6233 24.6227C24.3712 24.8732 24.0422 25 23.7147 25Z\" />\n</svg>\n    </div>\n</div>\n\n    <div class=\"modal__icon\">\n      <img src=\"${images[4]?.url || 'default-image.jpg'}\" alt=\"${name}\">\n    </div>\n    <div class=\"modal__main-info\">\n      <img src=\"${images[2]?.url || 'default-image.jpg'}\" alt=\"${name}\">\n      <ul class=\"main-info-list\">\n        <li class=\"main-info-item\">\n          <h3>INFO</h3>\n          <p>${info || 'No additional information available'}</p>\n        </li>\n        <li class=\"main-info-item\">\n          <h3>WHEN</h3>\n          <p>\n            <span>${dates?.start?.localDate || 'Date not available'}</span>\n            <span>${dates?.start?.localTime || 'Time not available'}</span>\n          </p>\n        </li>\n        <li class=\"main-info-item\">\n          <h3>WHERE</h3>\n          <p>\n            <span>${dates?.timezone || 'Timezone not available'}</span>\n            <span>${products[0]?.name || 'Venue not available'}</span>\n          </p>\n        </li>\n        <li class=\"main-info-item\">\n          <h3>WHO</h3>\n          <p>${name || 'Name not available'}</p>\n        </li>\n        <li class=\"main-info-item\">\n          <h3>PRICES</h3>\n          <div>\n            ${priceRanges[0] ? `\n              <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"29\" height=\"20\" viewBox=\"0 0 44 32\">\n                <path d=\"M4.91 1.27h-4.91v29.46h4.91v-29.46z\"></path>\n                <path d=\"M17.26 1.27h-4.91v29.46h4.91v-29.46z\"></path>\n                <path d=\"M24.699 1.27h-4.91v29.46h4.91v-29.46z\"></path>\n                <path d=\"M44.19 1.27h-7.291v29.46h7.291v-29.46z\"></path>\n                <path d=\"M9.82 1.27h-2.381v29.46h2.381v-29.46z\"></path>\n                <path d=\"M29.46 1.27h-2.381v29.46h2.381v-29.46z\"></path>\n                <path d=\"M34.37 1.27h-2.381v29.46h2.381v-29.46z\"></path>\n              </svg>\n              Standard ${priceRanges[0]?.min || 'N/A'}-${priceRanges[0]?.max || 'N/A'} ${priceRanges[0]?.currency || 'N/A'}\n            ` : 'Price information not available'}\n                      </div>\n              <div>\n            ${priceRanges[1] ? `\n              <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" width=\"29\" height=\"20\" viewBox=\"0 0 44 32\">\n                <path d=\"M4.91 1.27h-4.91v29.46h4.91v-29.46z\"></path>\n                <path d=\"M17.26 1.27h-4.91v29.46h4.91v-29.46z\"></path>\n                <path d=\"M24.699 1.27h-4.91v29.46h4.91v-29.46z\"></path>\n                <path d=\"M44.19 1.27h-7.291v29.46h7.291v-29.46z\"></path>\n                <path d=\"M9.82 1.27h-2.381v29.46h2.381v-29.46z\"></path>\n                <path d=\"M29.46 1.27h-2.381v29.46h2.381v-29.46z\"></path>\n                <path d=\"M34.37 1.27h-2.381v29.46h2.381v-29.46z\"></path>\n              </svg>\n              VIP ${priceRanges[1]?.min}-${priceRanges[1]?.max} ${priceRanges[1]?.currency}\n            ` : ''}\n            <a class=\"buyTicketsBtn\" href=\"${url || '#'}\" target=\"_blank\">BUY TICKETS</a>\n          </div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"modal__more-btn\">\n      <a class=\"authorInfoBtn\" href=\"#\">MORE FROM THIS AUTHOR</a>\n    </div>\n  `;\n  \n  refs.modal.classList.remove('hidden');\n}\n\n\n  // Handle closing the modal\n  function onModalClose(e) {\n    if (\n      e.target.classList.contains('modal__back-drop') ||\n      e.target.classList.contains('modal__close-btn-icon')\n    ) {\n      refs.modal.classList.add('hidden');\n    }\n  }\n\n  // Attach event listeners\n  refs.list.addEventListener('click', onOpenModal);\n  refs.modal.addEventListener('click', onModalClose);\n});\n","import './sass/index.scss';\nimport { onOpenModal } from './js/modal';\n\nconst eventsList = document.getElementById('events-list');\nconst searchForm = document.getElementById('search-form');\nconst searchInput = document.querySelector('.searchInput');\nconst countrySelect = document.querySelector('.country_select');\nconst loadMoreBtn = document.getElementById('load-more');\n\nconst apiKey = 'EtDAV1vyZ1Jbh6c6G3DrYAs7JMLAasp6';\n\nlet currentPage = 1;\nlet currentQuery = '';\nlet currentCountry = '';\nconst perPage = 20;\n\n// Define the global object for event data\nwindow.eventDataArray = [];\n\nsearchForm.addEventListener('submit', onSubmit);\ncountrySelect.addEventListener('change', onSubmit);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\neventsList.addEventListener('click', onOpenModal);\n\nasync function fetchEvents(query = '', country = '', page = 0) {\n  let searchUrl = `https://app.ticketmaster.com/discovery/v2/events.json?apikey=${apiKey}&page=${page}&size=${perPage}`;\n\n  if (query) {\n    searchUrl += `&keyword=${query}`;\n  }\n\n  if (country) {\n    searchUrl += `&countryCode=${country}`;\n  }\n\n  const response = await fetch(searchUrl);\n  if (!response.ok) {\n    throw new Error(response.status);\n  }\n  const data = await response.json();\n  return data;\n}\n\nfunction getImageByCondition(images) {\n  const sourceImage = images.find(img => img.url.includes('SOURCE'));\n  return sourceImage ? sourceImage.url : images[0].url;\n}\n\nfunction renderEvents(events) {\n  if (currentPage === 1) {\n    eventsList.innerHTML = '';\n  }\n\n  if (\n    !events._embedded ||\n    !events._embedded.events ||\n    events._embedded.events.length === 0\n  ) {\n    loadMoreBtn.style.display = 'none';\n    return;\n  }\n  loadMoreBtn.style.display = 'block';\n\n  // Store the events in the global object\n  window.eventDataArray = events._embedded.events;\n\n  const eventmap = events._embedded.events\n    .map(event => {\n      const imageUrl = getImageByCondition(event.images);\n\n      return `<li class=\"event_thumb\" id=\"${event.id}\">\n        <a href=\"\" class=\"event_link\">\n            <img src=\"${imageUrl}\" alt=\"${event.name} preview\" class=\"event_img\" />\n            <p class=\"event_name\">${event.name}</p>\n            <p class=\"event_date\">${event.dates.start.localDate}</p>\n            <p class=\"event_location\">${event._embedded.venues[0].name}</p>\n        </a>\n    </li>`;\n    })\n    .join('');\n  eventsList.insertAdjacentHTML('beforeend', eventmap);\n}\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  currentPage = 1;\n\n  currentQuery = searchInput.value.trim();\n  currentCountry = countrySelect.value;\n\n  await loadEvents(currentQuery, currentCountry, currentPage);\n}\n\nasync function onLoadMore() {\n  currentPage++;\n  await loadEvents(currentQuery, currentCountry, currentPage);\n}\n\nasync function loadEvents(query, country, page) {\n  try {\n    const events = await fetchEvents(query, country, page);\n    renderEvents(events);\n  } catch (error) {\n    console.error('Error rendering events:', error);\n  }\n}\n\nloadEvents('', '', 1);\n"],"names":["document","addEventListener","refs","modal","getElementById","list","modalContent","querySelector","evt","ref","ref1","ref2","ref3","ref4","ref5","ref6","ref7","ref8","ref9","ref10","preventDefault","console","log","target","eventItem","closest","eventId","id","eventData","window","eventDataArray","find","item","name","images","info","dates","products","priceRanges","url","innerHTML","start","localDate","localTime","timezone","min","max","currency","classList","remove","e","contains","add","$1f0dc3b9307be026$var$eventsList","$1f0dc3b9307be026$var$searchForm","$1f0dc3b9307be026$var$searchInput","$1f0dc3b9307be026$var$countrySelect","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$currentPage","$1f0dc3b9307be026$var$currentQuery","$1f0dc3b9307be026$var$currentCountry","async","$1f0dc3b9307be026$var$onSubmit","event","value","trim","$1f0dc3b9307be026$var$loadEvents","query","country","page","events","searchUrl","response","fetch","ok","Error","status","json","$1f0dc3b9307be026$var$fetchEvents","_embedded","length","style","display","eventmap","map","imageUrl","sourceImage","img","includes","$1f0dc3b9307be026$var$getImageByCondition","venues","join","insertAdjacentHTML","$1f0dc3b9307be026$var$renderEvents","error","onOpenModal"],"version":3,"file":"index.edc8075c.js.map"}