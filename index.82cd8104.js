const e=document.getElementById("events-list"),n=document.getElementById("search-form"),t=document.querySelector(".searchInput"),s=document.querySelector(".country_select"),a=document.getElementById("load-more");let c=1,r="",o="";async function d(e){e.preventDefault(),c=1,r=t.value.trim(),o=s.value,await i(r,o,c)}async function i(n,t,s){try{const r=await async function(e="",n="",t=0){let s=`https://app.ticketmaster.com/discovery/v2/events.json?apikey=EtDAV1vyZ1Jbh6c6G3DrYAs7JMLAasp6&page=${t}&size=20`;e&&(s+=`&keyword=${e}`),n&&(s+=`&countryCode=${n}`);const a=await fetch(s);if(!a.ok)throw new Error(a.status);return await a.json()}(n,t,s);!function(n){if(1===c&&(e.innerHTML=""),!n._embedded||!n._embedded.events||0===n._embedded.events.length)return void(a.style.display="none");a.style.display="block";const t=n._embedded.events.map((e=>`<li class="event_thumb">\n        <a href="" class="event_link">\n            <img src="${function(e){const n=e.find((e=>e.url.includes("SOURCE")));return n?n.url:e[0].url}(e.images)}" alt="${e.name} preview" class="event_img" />\n            <p class="event_name">${e.name}</p>\n            <p class="event_date">${e.dates.start.localDate}</p>\n            <p class="event_location">${e._embedded.venues[0].name}</p>\n        </a>\n    </li>`)).join("");e.insertAdjacentHTML("beforeend",t)}(r)}catch(e){console.error("Error rendering events:",e)}}n.addEventListener("submit",d),s.addEventListener("change",d),a.addEventListener("click",(async function(){c++,await i(r,o,c)})),i("","",1);
//# sourceMappingURL=index.82cd8104.js.map
